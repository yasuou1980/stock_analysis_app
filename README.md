# 🏆 プロフェッショナル株式戦略分析アプリケーション

このアプリケーションは、Streamlit を使用して構築されたインタラクティブな株価分析ツールです。テクニカル指標のバックテストと最適化を通じて、投資戦略の評価と改善をサポートします。

## ✨ 主な機能

-   **株価データ取得**: `yfinance` を利用して、指定したティッカー（銘柄）の株価データを取得します。
-   **多彩な戦略選択**: UIから「トレンドフォロー戦略」と「逆張り戦略」を簡単に切り替えられます。
    -   **トレンドフォロー戦略**: 移動平均線 (SMA) と MACD を中心とした順張り戦略。
    -   **逆張り戦略**: 移動平均乖離率、RSI、ボリンジャーバンド、ストキャスティクスを組み合わせた、相場の反転を狙う戦略。
-   **テクニカル分析**: `pandas_ta` を用いて、戦略に必要なテクニカル指標を計算・表示します。
-   **バックテスト**: 定義された戦略に基づき、過去のデータでパフォーマンスを検証します。
-   **ポジションサイジング**: 固定リスク率（ボラティリティ調整）と固定ポートフォリオ比率の2種類のポジションサイジング戦略を選択できます。
-   **インタラクティブなUI**: Streamlit のサイドバーから、ティッカー選択、分析期間、テクニカル指標のパラメータ、バックテスト設定などを柔軟に調整できます。
-   **設定管理**: 現在の戦略やパラメータ設定を `config.toml` ファイルに保存・読み込みできます。
-   **戦略別パラメータ最適化**: UIから直接、選択中の戦略（トレンドフォロー/逆張り）に応じて、指定したパラメータ範囲で総当たり（グリッドサーチ）による最適化を実行し、最もパフォーマンスの高い設定値を見つけることができます。
-   **詳細チャート**: `plotly` を使用し、ローソク足チャート、テクニカル指標、売買シグナル、ポートフォリオの資産推移などをインタラクティブに可視化します。

## 🚀 使い方

1.  **リポジトリのクローン**:
    ```bash
    git clone https://github.com/your-username/stock_analysis_app.git
    cd stock_analysis_app
    ```

2.  **Python環境のセットアップ**:
    Python 3.9以上が推奨されます。仮想環境の利用をお勧めします。
    ```bash
    python -m venv venv
    source venv/bin/activate  # Windows の場合: `venv\Scripts\activate`
    ```

3.  **必要なライブラリのインストール**:
    ```bash
    pip install -r requirements.txt
    ```

4.  **アプリケーションの実行**:
    ```bash
    streamlit run app.py
    ```
    コマンド実行後、ブラウザでアプリケーションが開きます（通常 `http://localhost:8501`）。

## ⚙️ 設定ファイル (`config.toml`)

`config.toml` ファイルには、アプリケーションのデフォルト設定やユーザー設定が保存されます。

-   `[tickers]` セクション: アプリケーションで利用可能なティッカーリストを定義します。
-   `[user_settings]` セクション: UIから保存したユーザー固有のパラメータ設定が保存されます。

## ⚠️ 免責事項

このツールは教育および情報提供のみを目的としています。提供される情報や分析結果は、投資助言を構成するものではありません。実際の投資判断は、ご自身の責任と判断において行ってください。
